tinyMCE.importPluginLanguagePack('delighttitle', 'de,en');var TinyMCE_DelighttitlePlugin = {getInfo : function() {return {longname : 'Delight Title plugin',author : 'Lukas Zurschmiede',authorurl : 'http://www.delightsoftware.com',infourl : 'http://www.delightsoftware.com/',version : "1.0"};},initInstance : function(inst) {},getControlHTML : function(cn) {switch (cn) {case "delighttitle":var cmd = 'tinyMCE.execInstanceCommand(\'{$editor_id}\',\'mceTriggerDelightTitle\',false,this.value,false);';var field = tinyMCE.getParam("delighttitle_title_field", null);var value = tinyMCE.getLang('lang_delighttitle_title_desc');if ( (field != null) && (field != 'undefined') ) {value = field.value;}var html = '<span style="font-size:9pt;font-weight:bold;">&nbsp;' + tinyMCE.getLang('lang_delighttitle_title_desc') + ':&nbsp;&nbsp;</span>' + '<input id="{$editor_id}_delightTitle" name="{$editor_id}_delightTitle" type="text" value="' + value + '" style="background-color:white;color:black;width:250px;font-size:9pt !important;" class="mceSelectList" onchange="' + cmd + '" />';if (tinyMCE.getParam('delighttitle_layout_field') != null) {html += tinyMCE.getControlHTML("separator") + tinyMCE.getButtonHTML(cn, 'lang_delighttitle_desc', '{$pluginurl}/images/template.gif', 'mceDelighttitle', true);};return html;};return "";},execCommand : function(editor_id, element, command, user_interface, value) {switch (command) {case "mceTemplate":alert(tinyMCE.getLang('lang_delighttitle_after_reload'));var inst = tinyMCE.selectedInstance;var formObj = inst.formElement.form;var elementId;for (var i=0; i<formObj.elements.length; i++) {elementId = formObj.elements[i].name ? formObj.elements[i].name : formObj.elements[i].id;if (elementId.indexOf('layout_') == 0) {formObj.elements[i].value = value.layout;} else if (elementId.indexOf('options_') == 0) {formObj.elements[i].value = value.options;}}return true;case "mceDelighttitle":var inst = tinyMCE.getInstanceById(editor_id);var template = new Array();var inst = tinyMCE.selectedInstance;var formObj = inst.formElement.form;var elem, elementId = 'plain_text', textId = '';for (var i=0; i<formObj.elements.length; i++) {elem = formObj.elements[i].name ? formObj.elements[i].name : formObj.elements[i].id;if (elem.indexOf('layout_') == 0) {elementId = formObj.elements[i].value;}if (elem.indexOf('id_txt_') == 0) {textId = parseInt(formObj.elements[i].value);}}template['file'] = tinyMCE.baseURL + '/plugins/delighttitle/popup.htm';template['width'] = 500;template['height'] = 400 + (tinyMCE.isMSIE ? 25 : 0);template['width'] += tinyMCE.getLang('lang_insert_image_delta_width', 0);template['height'] += tinyMCE.getLang('lang_insert_image_delta_height', 0);tinyMCE.openWindow(template, {current : elementId, inline : "yes", txtId : textId});return true;case 'mceTriggerDelightTitle':var field = tinyMCE.getParam("delighttitle_title_field", null);if ( (field != null) && (field != 'undefined') ) {field.value = value;}return true;}return false;},handleNodeChange : function(editor_id, node, undo_index, undo_levels, visual_aid, any_selection) {if (node.parentNode.nodeName == "STRONG" || node.parentNode.nodeName == "B") {tinyMCE.switchClass(editor_id + '_template', 'mceButtonSelected');return true;}tinyMCE.switchClass(editor_id + '_template', 'mceButtonNormal');},setupContent : function(editor_id, body, doc) {},onChange : function(inst) {},handleEvent : function(e) {top.status = "delighttitle plugin event: " + e.type;return true;},cleanup : function(type, content, inst) {return content;},};tinyMCE.addPlugin("delighttitle", TinyMCE_DelighttitlePlugin);